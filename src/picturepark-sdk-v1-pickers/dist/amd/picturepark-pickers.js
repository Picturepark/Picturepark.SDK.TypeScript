define(["require","exports"],function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.showContentPicker=void 0,n.showContentPicker=function(e,n){return new Promise(function(o,t){var i,d,c=null!==(i=null===n||void 0===n?void 0:n.w)&&void 0!==i?i:1281,r=null!==(d=null===n||void 0===n?void 0:n.h)&&void 0!==d?d:800;0!==e.indexOf("http://localhost:4200")&&(e+="/elements");var s=void 0!=window.screenLeft?window.screenLeft:screen.left,l=void 0!=window.screenTop?window.screenTop:screen.top,w=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-c/2+s,u=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-r/2+l,a=window.open(e+"/content-picker?postUrl="+encodeURIComponent(window.location.origin),"_blank","width="+c+", height="+r+", top="+u+", left="+w+",status=no,location=no,toolbar=no"),m=!1,v=function(n){if(console&&(console.log("PCP Message received:"),console.log(n)),e.startsWith(n.origin)){window.removeEventListener("message",v);var t=n.data&&"undefined"!==n.data?JSON.parse(n.data):void 0;m||(m=!0,setTimeout(function(){a.close(),o(t)}))}};a.onbeforeunload=function(){window.removeEventListener("message",v),m||(m=!0,o(void 0))},window.addEventListener("message",v)})}});