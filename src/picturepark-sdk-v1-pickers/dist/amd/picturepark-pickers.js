define(["require","exports"],function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.showContentPicker=void 0,n.showContentPicker=function(e,n){return new Promise(function(o,i){var t,d,r,l=null!==(t=null===n||void 0===n?void 0:n.width)&&void 0!==t?t:1281,c=null!==(d=null===n||void 0===n?void 0:n.height)&&void 0!==d?d:800,s=void 0!=window.screenLeft?window.screenLeft:screen.left,u=void 0!=window.screenTop?window.screenTop:screen.top,w=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-l/2+s,m=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-c/2+u,v=e+(e.includes("?")?"&":"?")+"postUrl="+encodeURIComponent(window.location.origin);v+="&returnType="+encodeURIComponent(null!==(r=null===n||void 0===n?void 0:n.returnType)&&void 0!==r?r:"embed"),(null===n||void 0===n?void 0:n.embedName)&&(v+="&embedName="+encodeURIComponent(n.embedName)),(null===n||void 0===n?void 0:n.enableMediaEditor)&&(v+="&enableMediaEditor=true");var a=window.open(v,"_blank","width="+l+", height="+c+", top="+m+", left="+w+",status=no,location=no,toolbar=no"),h=!1,g=function(i){if((null===n||void 0===n?void 0:n.debug)&&console&&(console.log("CP Message received:"),console.log(i)),e.startsWith(i.origin)){window.removeEventListener("message",g);var t=i.data&&"undefined"!==i.data?JSON.parse(i.data):void 0;h||(h=!0,setTimeout(function(){a.close(),o(t)}))}},f=function(){a.closed?(window.removeEventListener("message",g),h||(h=!0,o(void 0))):setTimeout(function(){return f()})};window.addEventListener("message",g),f()})}});