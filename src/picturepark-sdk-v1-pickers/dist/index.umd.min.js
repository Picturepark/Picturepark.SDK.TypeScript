!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).pictureparkPickers={})}(this,(function(e){"use strict";e.showContentPicker=function(e,n){return new Promise(((o,t)=>{var i,d,l;const s=null!==(i=null==n?void 0:n.width)&&void 0!==i?i:1281,r=null!==(d=null==n?void 0:n.height)&&void 0!==d?d:800,c=null!=window.screenLeft?window.screenLeft:screen.left,u=null!=window.screenTop?window.screenTop:screen.top,a=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-s/2+c,m=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-r/2+u;let w=e+(e.includes("?")?"&":"?")+"postUrl="+encodeURIComponent(window.location.origin);w+=`&returnType=${encodeURIComponent(null!==(l=null==n?void 0:n.returnType)&&void 0!==l?l:"embed")}`,(null==n?void 0:n.embedName)&&(w+=`&embedName=${encodeURIComponent(n.embedName)}`),(null==n?void 0:n.enableCollections)&&(w+="&enableCollections=true"),(null==n?void 0:n.enableMediaEditor)&&(w+="&enableMediaEditor=true"),(null==n?void 0:n.mediaEditorUnlockPreset)&&(w+="&mediaEditorUnlockPreset=true");const h=window.open(w,"_blank","width="+s+", height="+r+", top="+m+", left="+a+",status=no,location=no,toolbar=no");let p=!1;const f=t=>{if((null==n?void 0:n.debug)&&console&&(console.log("Fotoware Alto Message received:"),console.log(t)),e.startsWith(t.origin)){window.removeEventListener("message",f);const e=t.data&&"undefined"!==t.data?JSON.parse(t.data):void 0;p||(p=!0,setTimeout((()=>{h.close(),o(e)})))}},v=()=>{h.closed?(window.removeEventListener("message",f),p||(p=!0,o(void 0))):setTimeout((()=>v()),100)};window.addEventListener("message",f),v()}))}}));
