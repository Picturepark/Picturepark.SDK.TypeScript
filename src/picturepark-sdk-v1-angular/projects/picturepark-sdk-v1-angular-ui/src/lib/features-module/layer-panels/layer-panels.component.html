<div class="custom-shadow" *ngFor="let layer of layers; let i = index">
  <mat-expansion-panel
    [expanded]="layer.expanded"
    (closed)="layerExpansionHandlder(layer.id, false)"
    (opened)="layerExpansionHandlder(layer.id, true)"
  >
    <mat-expansion-panel-header>
      <mat-panel-description>
        {{ layer.names | pptranslate }}
      </mat-panel-description>
    </mat-expansion-panel-header>
    <ng-template matExpansionPanelContent>
      <div *ngFor="let field of layer.fields" class="fields">
        <pp-layer-fields [field]="field" (relationClick)="relationClickHandler($event)"></pp-layer-fields>
      </div>
    </ng-template>
  </mat-expansion-panel>
</div>
