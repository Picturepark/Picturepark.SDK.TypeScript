@use '~@angular/material' as mat;
@import '~@angular/material/theming';

@mixin pp-global-theme($theme) {
  $primary: map-get($theme, primary);
  $accent: map-get($theme, accent);

  // PROGRESS BAR
  .mat-progress-bar-buffer {
    background-color: mat.get-color-from-palette($primary, background-dark);
  }
  .mat-progress-bar-fill::after {
    background-color: mat.get-color-from-palette($primary, primary);
  }

  // FILTERS AGGREGATES
  .mat-ink-bar {
    background-color: mat.get-color-from-palette($primary, primary);
  }

  .mat-badge-content {
    background: mat.get-color-from-palette($primary, primary);
    color: mat.get-color-from-palette($primary, on-primary);
  }
  // END FILTERS AGGREGATES

  // SPINNER
  .mat-progress-spinner circle,
  .mat-spinner circle {
    stroke: mat.get-color-from-palette($primary, primary) !important;
  }

  .app-root-container {
    background-color: mat.get-color-from-palette($primary, background-dark);
    .app-root-content {
      svg {
        path {
          fill: mat.get-color-from-palette($primary, surface-light);
        }
      }
    }
  }

  .form {
    background: rgba(0, 0, 0, 0.24);
  }

  .mat-expansion-panel-body,
  .mat-expansion-panel,
  .mat-expansion-panel-header.mat-expanded,
  .mat-expansion-panel-header.mat-expanded:hover {
    background: mat.get-color-from-palette($primary, background-dark);
  }

  .mat-tab-header {
    background: mat.get-color-from-palette($primary, background-dark);
  }

  .filters mat-tab-header .mat-tab-label-content {
    color: mat.get-color-from-palette($primary, on-background-dark);
  }

  .aggregation-filter {
    pp-aggregation-item:last-child {
      mat-expansion-panel {
        border-bottom: 1px solid mat.get-color-from-palette($primary, divider);
      }
    }
  }

  // OVERWRITE DEFAULT ANGULAR CDK AUTO FOCUS
  .cdk-focused.cdk-program-focused {
    background-color: transparent !important;
  }

  // PANEL ITEMS BUTTON HOVER
  .panel-header .panel-buttons button .mat-button-focus-overlay {
    background: mat.get-color-from-palette($primary, background-dark);
  }

  // SHARE ITEM MANAGE LOADER
  .share-preview-container mat-spinner circle {
    stroke: mat.get-color-from-palette($primary, primary);
  }

  .mat-tab-body-wrapper {
    background-color: mat.get-color-from-palette($primary, background-dark);
  }

  // Start Handle Angular Material Pannels Theming

  .mat-menu-content {
    background-color: mat.get-color-from-palette($primary, surface-light);

    .mat-menu-item,
    .mat-menu-item .mat-icon,
    .menu-title {
      color: mat.get-color-from-palette($primary, on-surface-light);
    }

    .mat-menu-item[disabled] {
      opacity: 0.3;
    }
  }
  // End Handle Angular Material Pannels Theming

  //SCROLL BAR
  /* Works on Firefox */
  .cp-scrollbar {
    scrollbar-color: mat.get-color-from-palette($primary, surface-mid) transparent;
  }

  /* Works on Chrome, Edge, and Safari */
  .cp-scrollbar::-webkit-scrollbar-thumb {
    background-color: mat.get-color-from-palette($primary, surface-mid);
  }

  // Extends the base mat-stroked-button styling
  .mat-stroked-button:not([disabled]) {
    border-color: mat.get-color-from-palette($accent, '200-contrast');
    color: mat.get-color-from-palette($accent, '200-contrast');
  }

  // Links
  a {
    color: mat.get-color-from-palette($primary);

    &.disabled {
      color: mat.get-color-from-palette($accent, '200-contrast');
    }
  }
}
